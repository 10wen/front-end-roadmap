{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["CARD_CONFIG","width","height","bgColor","subCardMargin","lineColor","textColor","strokeColor","c","text","x","w","h","children","temp","makeTextSquare","y","val","level","square","fabric","Rect","fill","originX","originY","rx","ry","shadow","Text","fontSize","fontFamily","fontWeight","group","Group","left","top","lineDirection","makeSubLine","c1","c2","line","Path","stroke","strokeWidth","objectCaching","strokeDashArray","path","globalCompositeOperation","App","useEffect","lastP","canvas","StaticCanvas","cards","arr","lines","forEach","parent","p","push","makeLine","right","child","index","length","isEven","childY","Math","floor","l","cchild","ccindex","cc","map","item","add","className","style","marginTop","id","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.2ec4d8c6.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { fabric } from 'fabric'\nimport './App.css';\n\nconst CARD_CONFIG = {\n  width: 140,\n  height: 40,\n  // bgColor: ['#ff6f3c', '#ff9a3c', '#ffc93c'],\n  bgColor: ['#ea5455', '#f07b3f', '#ffd460'],\n  subCardMargin: 10,\n  lineColor: '#3A7AF2',\n  textColor: '#444',\n  strokeColor: '#3A7AF2'\n}\n\n\nfunction c(text, x, w = 200, h, children) {\n  let temp = {\n    text,\n    w,\n    h,\n    children\n  }\n  typeof x === 'number' ? temp.x = x : temp = { ...temp, ...x }\n  return temp\n}\n\nfunction makeTextSquare(x, y, val, level = 1, w = CARD_CONFIG.width, h = CARD_CONFIG.height) {\n  const square = new fabric.Rect({\n    fill: CARD_CONFIG.bgColor[level - 1],\n    // stroke: CARD_CONFIG.strokeColor,\n    // strokeWidth: 2,\n    width: w,\n    height: h,\n    originX: 'center',\n    originY: 'center',\n    rx: 4,\n    ry: 4,\n    shadow: 'rgba(0,0,0,0.3) 2px 2px 4px'\n  });\n  const text = new fabric.Text(val, {\n    fontSize: 15,\n    fill: CARD_CONFIG.textColor,\n    originX: 'center',\n    originY: 'center',\n    fontFamily: \" Helvetica, 'Hiragino Sans GB', 'Microsoft Yahei', '微软雅黑', Arial, sans-serif\",\n    fontWeight: '500'\n  })\n  const group = new fabric.Group([square, text], {\n    left: x,\n    top: y,\n  });\n\n  return group\n}\nlet lineDirection = 'left'\nfunction makeLine(c1, c2) {\n  const line = new fabric.Path('M 65 0 Q 100, 100, 200, 0', { fill: '', stroke: CARD_CONFIG.lineColor, strokeWidth: 3, objectCaching: false });\n  line.path[0][1] = c1.left + CARD_CONFIG.width / 2;\n  line.path[0][2] = c1.top + CARD_CONFIG.height / 2;\n\n  line.path[1][1] = lineDirection === 'left' ? c1.left - CARD_CONFIG.width / 3 : c1.left + CARD_CONFIG.width;\n  lineDirection = lineDirection === 'left' ? 'right' : 'left'\n  line.path[1][2] = c1.top + (c2.top - c1.top) / 2;\n\n  line.path[1][3] = c2.left + CARD_CONFIG.width / 2;\n  line.path[1][4] = c2.top + CARD_CONFIG.height / 2;\n  line.globalCompositeOperation = \"destination-over\"\n  return line\n}\n\nfunction makeSubLine(c1, c2) {\n  const line = new fabric.Path('M 65 0 Q 100, 100, 200, 0', { fill: '', stroke: CARD_CONFIG.lineColor, strokeWidth: 2, objectCaching: false });\n  line.strokeDashArray = [5, 5]\n  line.path[0][1] = c1.left + c1.width;\n  line.path[0][2] = c1.top + c1.height / 2;\n\n  if (c1.left > c2.left) {\n    line.path[1][1] = c2.left - (c1.left - c2.left) / 2;\n    line.path[1][2] = c1.top + (c2.top - c1.top) / 2;\n  } else if (c1.left < c2.left) {\n    line.path[1][1] = c1.left + (c2.left + c1.width - c1.left) / 2;\n    line.path[1][2] = c1.top + (c2.top - c1.top) / 2;\n  }\n\n\n  line.path[1][3] = c2.left;\n  line.path[1][4] = c2.top + c2.height / 2;\n  line.globalCompositeOperation = \"destination-over\"\n  return line\n}\n\n\nfunction App() {\n  useEffect(() => {\n    var canvas = new fabric.StaticCanvas('c');\n    const cards = [{\n      text: '准备开始',\n      x: 400,\n      y: 0\n    }, {\n      text: '互联网',\n      x: 400,\n      y: 100,\n      children: [[\n        c('互联网如何运作？', 100, 200),\n        c('什么是HTTP/HTTPS', 100, 200),\n      ], [\n        c('DNS原理', 700, 200),\n        c('CDN原理', 700, 200),\n      ]]\n    },\n    {\n      text: '浏览器',\n      x: 400,\n      y: 280,\n      children: [[\n        c('浏览器如何运行？', 160, 160),\n        c('浏览器差异/兼容性', 160, 160, 40, [\n          c('Chrome', 0, 100),\n          c('Safari', 0, 100),\n          c('Firefox', 0, 100),\n          c('Android Browser', 0, 120),\n          c('iOS Safari', 0, 100)])\n      ], [\n        c('Headless Browser', 700, 200),\n        c('WebView', 700, 200),\n      ]]\n    },\n    {\n      text: '编辑器',\n      x: 400,\n      y: 460,\n      children: [[],\n      [\n        c('VSCode', 700, 100),\n        c('WebStorm', 700, 100),\n        c('Atom', 700, 100),\n        c('Sublime', 700, 100),\n      ],\n      ]\n    },\n    {\n      text: 'HTML',\n      x: 400,\n      y: 600,\n      children: [[\n        c('常用标签', 100),\n        c('表单', 100)],\n      [\n        c('SEO搜索优化', { x: 700, y: 590 }, 140),\n      ],\n      ]\n    },\n    {\n      text: 'CSS',\n      x: 400,\n      y: 720,\n      children: [[],\n      [\n        c('基本语法', 700, 140),\n        c('布局', 700, 140, 40, [\n          c('浮动float', 900, 100),\n          c('定位postion', 900, 100),\n          c('盒模型', 900, 100),\n          c('flex', 900, 100),\n          c('grid/layout', 900, 100),\n        ]),\n        c('响应式设计', 700, 140)\n      ],\n      ]\n    },\n    {\n      text: 'JavaScript',\n      x: 400,\n      y: 800,\n      children: [[\n        c('基本语法', 100),\n        c('DOM & BOM', 100),\n        c('接口请求Ajax/Fetch', 100),\n        c('ES6+', 100),\n        c('重点理解概念 \\n变量提升、时间冒泡捕获、 \\n作用域、原型等 ', 100, 200, 100),\n      ]\n      ]\n    },\n    {\n      text: '版本管理工具Git',\n      x: 380,\n      y: 960,\n      children: [[], [\n        c('基本命令', 600),\n        c('注册github账号并学会使用', 600),\n        c('搭建一个静态博客站点', 600, 200, 40, [c('xxx.github.io/blog', 840, 160),])\n      ]\n      ]\n    },\n    {\n      text: '           Node基础 \\n （暂时不用深入学习）',\n      x: 440,\n      y: 1100,\n      w: 200,\n      h: 50,\n      children: [[\n        c('包管理', 200, 100, 40, [\n          c('npm', 0, 100),\n          c('yarn', 0, 100),\n          c('npx', 0, 100)\n        ]),\n        c('常用包', { x: 200, y: 1200 }, 100, 40, [\n          c('文件读写fs', 0, 100),\n          c('路径查找path', 0, 100),\n          c('网络http', 0, 100)\n        ])\n      ]\n      ]\n    },\n    {\n      text: '构建工具',\n      x: 400,\n      y: 1300,\n      children: [[], [\n        c('自动化构建', { x: 600, y: 1200 }, 100, 40, [\n          c('npm script', 800, 100),\n          c('gulp', 800, 100)\n        ]),\n        c('模块化打包', { x: 600, y: 1360 }, 100, 40, [\n          c('Webpack', 800, 100),\n          c('Rollup', 800, 100),\n          c('Parcel', 800, 100),\n          c('Snowpack', 800, 100)\n        ])\n      ]\n      ]\n    },\n    {\n      text: 'CSS预处理',\n      x: 300,\n      y: 1400,\n      children: [[\n        c('Sass', 100, 100),\n        c('PostCss', 100, 100),\n        c('Less', 100, 100),\n      ]\n      ]\n    },\n    {\n      text: 'JS框架',\n      x: 500,\n      y: 1680,\n      children: [[\n        c('React', { x: 200, y: 1580 }, 100, 40, [\n          c('Redux/Mobx', 0, 100),\n          c('React-router', 0, 100)\n        ]),\n        c('Vue', { x: 200, y: 1680 }, 100, 40, [\n          c('VueX', 0, 100),\n          c('Vue-router', 0, 100)\n        ]),\n        c('Angular', { x: 200, y: 1780 }, 100, 40, [\n          c('RxJS', 0, 100),\n          c('NgRx', 0, 100)\n        ]),\n\n      ]\n      ]\n    },\n    {\n      text: 'CSS框架',\n      x: 400,\n      y: 1900,\n      children: [[], [\n        c('Antd', 700, 100),\n        c('Element UI', 700, 100),\n        c('Material UI', 700, 100),\n      ]\n      ]\n    },\n    {\n      text: 'CSS优化方案',\n      x: 300,\n      y: 2000,\n      children: [[\n        c('Styled Component', 0, 140),\n        c('CSS Modules', 0, 140),\n        c('Styled JSX', 0, 140),\n      ]\n      ]\n    },\n    {\n      text: '测试',\n      x: 400,\n      y: 2200,\n      children: [\n        [\n          c('单元测试', 200, 100),\n          c('集成测试', 200, 100),\n          c('E2E测试', 200, 100),\n        ], [\n          c('Jest', 700, 100),\n          c('Enzyme', 700, 100),\n          c('Puppeteer', 700, 100),\n        ]\n      ]\n    },\n    {\n      text: '代码质量',\n      x: 400,\n      y: 2400,\n      children: [\n        [\n          c('类型校验', 200, 100, 40, [\n            c('TypeScript', 0, 100),\n            c('Flow', 0, 100),\n          ]),\n          c('Linter & Formatter', { x: 200, y: 2460 }, 140, 40, [\n            c('ESLint', 0, 100),\n            c('Prettier', 0, 100),\n          ]),\n        ],\n        [c('编码规范', 600, 100, 40, [\n          c('JavaScript Style Guide', 800, 180),\n          c('CSS Style Guide', 800, 180),\n          c('React Style Guide', 800, 180),\n        ])]\n      ]\n    },\n    {\n      text: '性能',\n      x: 380,\n      y: 2760,\n      children: [\n        [\n          c('性能指标', 140, 100, 40, [\n            c('FP', 0, 60),\n            c('FCP', 0, 60),\n            c('FMP', 0, 60),\n            c('TTI', 0, 60),\n          ]),\n          c('RAIL模型', 140, 120),\n          c('Lighthouse 指标', 140, 120),\n          c('DevTools', 140, 100),\n        ],\n        [\n          c('PWA', 700, 100),\n          c('Service Worker', 700, 140),\n          c('骨架屏', 700, 140),\n        ]\n      ]\n    },\n    {\n      text: '数据可视化',\n      x: 300,\n      y: 2980,\n      children: [\n        [\n          c('EChart', 100, 100),\n          c('AntV', 100, 100),\n          c('HighChart', 100, 100),\n        ],\n        [c('D3.js', 500, 100)]\n      ]\n    },\n    {\n      text: '服务端渲染SSR',\n      x: 420,\n      y: 3180,\n      children: [[],\n      [\n        c('Next.js(React)', 700, 120),\n        c('Nuxt.js(Vue)', 700, 120),\n      ]\n      ]\n    },\n    {\n      text: '移动端应用',\n      x: 360,\n      y: 3340,\n      children: [\n        [\n          c('React Native', 200, 100),\n          c('Weex', 200, 100),\n          c('hybrid', 200, 100),\n          c('Flutter', 200, 100)\n        ],\n        [c('调试', 600, 100, 40, [\n          c('Chrome DevTools', 800, 140),\n          c('Android Simulator', 800, 140),\n          c('iOS Simulator', 800, 140),\n        ])]\n      ]\n    },\n    {\n      text: '小程序',\n      x: 400,\n      y: 3560,\n      children: [\n        [\n          c('原生', 200, 100, 40, [c('微信', 0, 100), c('支付宝', 0, 100), c('头条', 0, 100)]),\n        ],\n        [c('跨端解决方案', 700, 100, 40, [c('Taro', 900, 100), c('Chameleon', 900, 100), c('uni-app', 900, 100)])]\n      ]\n    },\n    {\n      text: '桌面应用',\n      x: 450,\n      y: 3670,\n      children: [\n        [\n          c('Electron', 200, 100),\n          c('NW.js', 200, 100),\n        ]\n      ]\n    },\n    {\n      text: '静态站点构建',\n      x: 400,\n      y: 3840,\n      children: [\n        [],\n        [\n          c('GatsbyJS', 700, 100),\n          c('VuePress', 700, 100),\n          c('Docusaurus', 700, 100),\n          c('Hexo', 700, 100),\n        ]\n      ]\n    },\n    {\n      text: 'Web Assembly',\n      x: 400,\n      y: 4000,\n      children: [\n        [\n          c('拥抱未来', 200, 100),\n        ]\n      ]\n    },\n    {\n      text: '学习永无止境',\n      x: 300,\n      y: 4500\n    },\n    {\n      text: '加油吧！后浪！',\n      x: 400,\n      y: 4900\n    },\n    ]\n    // 动画 Animation.css lottie\n    const arr = []\n    const lines = []\n    let lastP\n    cards.forEach((parent) => {\n      const p = makeTextSquare(parent.x, parent.y, parent.text, 1, parent.w, parent.h)\n\n      arr.push(p)\n      if (lastP) {\n        lines.push(makeLine(lastP, p))\n      }\n      lastP = p\n\n      if (parent.children) {\n        const left = parent.children[0]\n        const right = parent.children[1] || []\n\n        left.forEach((child, index) => {\n          const length = left.length\n          const isEven = length % 2 === 0\n          let childY = child.y || (parent.y - (Math.floor(length / 2) - index) * (CARD_CONFIG.height + CARD_CONFIG.subCardMargin))\n          childY += isEven ? CARD_CONFIG.height / 2 : 0\n          const c = makeTextSquare(child.x, childY, child.text, 2, child.w, child.h)\n          arr.push(c)\n\n          const l = makeSubLine(c, p)\n          lines.push(l)\n          if (child.children) {\n            child.children.forEach((cchild, ccindex) => {\n              const length = child.children.length\n              // if (length === 1) {\n              //   const cc = makeTextSquare(child.x, child.y, cchild.text, 3, cchild.w, cchild.h)\n              //   arr.push(cc)\n\n              //   const l = makeSubLine(cc, c)\n              //   lines.push(l)\n              //   return\n              // }\n              const isEven = length % 2 === 0\n              let childY = c.top - (Math.floor(length / 2) - ccindex) * (CARD_CONFIG.height + CARD_CONFIG.subCardMargin)\n              childY += isEven ? CARD_CONFIG.height / 2 : 0\n              const cc = makeTextSquare(cchild.x, childY, cchild.text, 3, cchild.w, cchild.h)\n              arr.push(cc)\n\n              const l = makeSubLine(cc, c)\n              lines.push(l)\n            })\n          }\n\n        })\n        right.forEach((child, index) => {\n          const length = right.length\n          const isEven = right.length % 2 === 0\n          let childY = child.y || (parent.y - (Math.floor(length / 2) - index) * (CARD_CONFIG.height + CARD_CONFIG.subCardMargin))\n          childY += isEven ? CARD_CONFIG.height / 2 : 0\n          const c = makeTextSquare(child.x, childY, child.text, 2, child.w, child.h)\n          arr.push(c)\n          const l = makeSubLine(p, c)\n          lines.push(l)\n          if (child.children) {\n            child.children.forEach((cchild, ccindex) => {\n\n              const length = child.children.length\n              // if (length === 1) {\n              //   const cc = makeTextSquare(child.x, c.top, cchild.text, 3, cchild.w, cchild.h)\n              //   arr.push(cc)\n\n              //   const l = makeSubLine(cc, c)\n              //   lines.push(l)\n              //   return\n              // }\n\n              const isEven = length % 2 === 0\n              let childY = c.top - (Math.floor(length / 2) - ccindex) * (CARD_CONFIG.height + CARD_CONFIG.subCardMargin)\n              childY += isEven ? CARD_CONFIG.height / 2 : 0\n              const cc = makeTextSquare(cchild.x, childY, cchild.text, 3, cchild.w, cchild.h)\n              arr.push(cc)\n              const l = makeSubLine(c, cc)\n              lines.push(l)\n            })\n          }\n        })\n      }\n    })\n    arr.map(item => canvas.add(item))\n    lines.map(item => canvas.add(item))\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <div style={{ marginTop: 60 }}>\n        <canvas id=\"c\" height=\"5000px\" width=\"1000px\" ></canvas>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}